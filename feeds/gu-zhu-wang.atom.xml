<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Wonux Blog</title><link href="http://wonux.github.io/" rel="alternate"></link><link href="http://wonux.github.io/feeds/gu-zhu-wang.atom.xml" rel="self"></link><id>http://wonux.github.io/</id><updated>2016-02-29T12:45:00+08:00</updated><entry><title>Shell终端收听音乐—豆瓣FM命令行版</title><link href="http://wonux.github.io/apps-doubanfm.html" rel="alternate"></link><updated>2016-02-29T12:32:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2016-02-29:apps-doubanfm.html</id><summary type="html">
&lt;h2 id="doubanfm"&gt;douban.fm&lt;a class="headerlink" href="#doubanfm" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Terminal-based douban.fm inspired by &lt;a href="https://github.com/turingou/douban.fm"&gt;douban.fm&lt;/a&gt;.该版本版基于Python2.*&lt;/p&gt;
&lt;h3 id="python2"&gt;安装Python2.*&lt;a class="headerlink" href="#python2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S python2
pacman -S python2-pip
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="doubanfm_1"&gt;安装douban.fm&lt;a class="headerlink" href="#doubanfm_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip2 install douban.fm
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="mplayer"&gt;需要mplayer播放器依赖,如未安装:&lt;a class="headerlink" href="#mplayer" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S mplayer
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="update"&gt;Update&lt;a class="headerlink" href="#update" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip2 install --upgrade douban.fm
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="usage"&gt;Usage&lt;a class="headerlink" href="#usage" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在终端下直接输入&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;douban.fm
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;第一次登陆需要输入账号,密码,程序不会保留密码,而是保存返回的token存储在~/.douban_token.txt,下次登陆无需输入密码.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="keys"&gt;Keys&lt;a class="headerlink" href="#keys" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;支持vim按键&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;移动
[j] --&amp;gt; 下
[k] --&amp;gt; 上
[g] --&amp;gt; 移到最顶
[G] --&amp;gt; 移到最底
音乐
[space] --&amp;gt; 播放
[w] --&amp;gt; 打开歌曲专辑豆瓣主页
[n] --&amp;gt; 下一首
[r] --&amp;gt; 喜欢/取消喜欢
[b] --&amp;gt; 不再播放
[q] --&amp;gt; 退出
[p] --&amp;gt; 暂停
[l] --&amp;gt; 单曲循环
音量
[=] --&amp;gt; 增
[-] --&amp;gt; 减
[m] --&amp;gt; 静音
[e] --&amp;gt; 播放/历史/红心列表
歌词
[o] --&amp;gt; 显示歌词
[q] --&amp;gt; 退出歌词
帮助
 [h] --&amp;gt; 查看快捷键
主题
[1]
[2]
[3]
[4]
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;github主页： &lt;a href="https://github.com/turingou/douban.fm"&gt;douban.fm&lt;/a&gt;&lt;/p&gt;</summary><category term="apps"></category><category term="music"></category><category term="python"></category></entry><entry><title>Gentoo/Arch常用软件列表</title><link href="http://wonux.github.io/gentoo-arch-apps.html" rel="alternate"></link><updated>2016-02-24T14:30:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2016-02-24:gentoo-arch-apps.html</id><summary type="html">
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;## Desktop Environment
### GNOME
### KDE
### LXDE
### Xfce

## Window Managers
### dwm
[x11-wm/dwm]  [dmenu]    
euse --enable savedconfig
ln -s /etc/portage/savedconfig/x11-wm/dwm-6.1 /etc/portage/savedconfig/x11-wm/dwm-6.1.h
### Awesome
### openbox
x11-wm/openbox
[obconf]  [obmenu]  [tint2]  [dmenu_run]
.config/openbox/
autostart  menu.xml  rc.xml

## Taskbars/Panels
### lxpanel
### tint2
[tint2]  [volumeicon]
.config/tint2/tint2rc
### wbar

## Desktop Utilities
### File Managers
#### vifm
#### xfe
#### dolphin
#### thunar
#### pcmanfm

### Clipboard Managers

### Terminal Emulators
#### rxvt-unicode
[x11-terms/rxvt-unicode]  [xorg-xrdb]  [x11-misc/xsel]  [x11-misc/xclip]  [x11-misc/urxvt-perls]
.Xresources  
.xinitrc == [[ -f ~/.Xresources ]] &amp;amp;&amp;amp; xrdb -merge ~/.Xresources  
urxvtd --quiet --opendisplay --fork  ==  urxvtc
#### tilda
#### sakura
#### xfce4-terminal
#### konsole
#### yakuake
#### lxterminal

## Network Management
### dhcpcd
### wpa_supplicant
### networkmanager
### netctl

## Internet
### Email Clients
### P2P
#### rtorrent

### Web Browsers
#### firefox
#### chromium
#### midori

## Multimedia
### Audio
#### MPD
#### moc

### Video
#### mplayer

### Image Viewers
#### xfe
#### xfi

## Documents
### Editors
#### vim

### Document Readers
#### zathura
#### apvlv
#### mupdf

### Office Suites
#### wps-office
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;参考：
&lt;a href="https://wiki.gentoo.org/wiki/Rxvt-unicode"&gt;https://wiki.gentoo.org/wiki/Rxvt-unicode&lt;/a&gt;
&lt;a href="https://wiki.archlinux.org/index.php/Rxvt-unicode"&gt;https://wiki.archlinux.org/index.php/Rxvt-unicode&lt;/a&gt;&lt;/p&gt;</summary><category term="gentoo"></category><category term="arch"></category><category term="apps"></category></entry><entry><title>Arch安装KDE5</title><link href="http://wonux.github.io/arch-kde.html" rel="alternate"></link><updated>2016-02-02T11:22:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2016-01-25:arch-kde.html</id><summary type="html">
&lt;h2 id="plasma-desktop"&gt;plasma desktop&lt;a class="headerlink" href="#plasma-desktop" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Install the &lt;code&gt;plasma-meta&lt;/code&gt; meta-package or the &lt;code&gt;plasma&lt;/code&gt; group. Alternatively, for a more minimal Plasma installation, install the &lt;code&gt;plasma-desktop&lt;/code&gt; package.&lt;/p&gt;
&lt;h2 id="sddm"&gt;sddm&lt;a class="headerlink" href="#sddm" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The Simple Desktop Display Manager (&lt;span class="caps"&gt;SDDM&lt;/span&gt;) is the preferred &lt;a href="https://wiki.archlinux.org/index.php/Display_manager"&gt;display manager&lt;/a&gt; for &lt;a href="https://wiki.archlinux.org/index.php/KDE"&gt;&lt;span class="caps"&gt;KDE&lt;/span&gt;&lt;/a&gt; Plasma desktop.&lt;/p&gt;
&lt;h3 id="install-sddm"&gt;Install sddm&lt;a class="headerlink" href="#install-sddm" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S sddm
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="configuration"&gt;Configuration&lt;a class="headerlink" href="#configuration" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span class="caps"&gt;SDDM&lt;/span&gt; defaults to using systemd-logind for session management.&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sddm --example-config &amp;gt; /etc/sddm.conf
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="loading-sddm"&gt;Loading sddm&lt;a class="headerlink" href="#loading-sddm" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;systemctl start sddm
systemctl enable sddm
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><category term="arch"></category><category term="xorg"></category><category term="kde"></category></entry><entry><title>Shell终端收听音乐—网易云音乐命令行版</title><link href="http://wonux.github.io/apps-musicbox.html" rel="alternate"></link><updated>2016-02-29T12:45:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2016-01-18:apps-musicbox.html</id><summary type="html">
&lt;h2 id="musicbox"&gt;Musicbox：网易云音乐命令行版本&lt;a class="headerlink" href="#musicbox" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;高品质网易云音乐命令行版本，简洁优雅，丝般顺滑，基于Python编写。
这款命令行的客户端使用 Python 构建，以 mpg123 作为播放后端：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Vim 式的流畅操作，支持快捷键绑定
支持电台、收藏等各种特色功能
支持 OS X 及各类 Linux 发行版
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="python2"&gt;安装Python2.*&lt;a class="headerlink" href="#python2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S python2
pacman -S python2-pip
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="musicbox_1"&gt;安装musicbox&lt;a class="headerlink" href="#musicbox_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip2 install NetEase-MusicBox
pacman -S mpg123
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="usage"&gt;Usage&lt;a class="headerlink" href="#usage" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在终端下直接输入&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;musicbox
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;&lt;a href="https://github.com/darknessomi/musicbox"&gt;更多详情参考位于 Github 上的项目&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;参考： &lt;a href="https://linuxtoy.org/archives/musicbox-neteasemusic-in-terminal.html"&gt;Musicbox：网易云音乐命令行版本&lt;/a&gt;&lt;/p&gt;</summary><category term="apps"></category><category term="music"></category><category term="python"></category></entry><entry><title>Gentoo解决windows txt文件中文乱码问题 — 文件编码介绍</title><link href="http://wonux.github.io/gentoo-file-encode.html" rel="alternate"></link><updated>2015-12-10T09:30:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2015-12-10:gentoo-file-encode.html</id><summary type="html">
&lt;h3 id="linuxwindows"&gt;Linux与Windows系统语言编码区别&lt;a class="headerlink" href="#linuxwindows" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在Linux操作系统下，我们有时打开在windows下的txt文件，发现在windows下能正常显示的txt文件出现了中文乱码。 出现这种情况的原因为两种操作系统的中文字符编码方式（压缩方式）不同，在windows环境中中文字符编码一般为gbk，而在linux环境中为utf8，这就导致了在windows下能正常显示txt文件在linux环境下打开呈现了乱码状态。&lt;/p&gt;
&lt;h3 id="_1"&gt;系统编码设置&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;locale.gen&lt;/code&gt;文件&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# /etc/locale.gen: list all of the locales you want to have on your system
#
# The format of each line:
# &amp;lt;locale&amp;gt; &amp;lt;charmap&amp;gt;
#
# Where &amp;lt;locale&amp;gt; is a locale located in /usr/share/i18n/locales/ and
# where &amp;lt;charmap&amp;gt; is a charmap located in /usr/share/i18n/charmaps/.
#
# All blank lines and lines starting with # are ignored.
#
# For the default list of supported combinations, see the file:
# /usr/share/i18n/SUPPORTED
#
# Whenever glibc is emerged, the locales listed here will be automatically
# rebuilt for you.  After updating this file, you can simply run `locale-gen`
# yourself instead of re-emerging glibc.
en_US.UTF-8 UTF-8
zh_CN.UTF-8 UTF-8
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;查看系统语言编码种类
&lt;code&gt;/usr/share/i18n/locales/&lt;/code&gt;目录下包含系统支持的编码语言种类&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;gentoo ~ # ls /usr/share/i18n/locales/
en_US       en_GB     en_HK    
zh_CN       zh_TW     zh_HK
ja_JP       de_DE     ......
gentoo ~ #
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;查看字符编码压缩方式&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;/usr/share/i18n/charmaps/&lt;/code&gt;目录下包含系统支持的字符编码方式&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ls /usr/share/i18n/charmaps/
ANSI_X3.110-1983.gz    IBM1026.gz         ISO-8859-16.gz
ANSI_X3.4-1968.gz      IBM1047.gz         ISO_8859-1,GL.gz
ARMSCII-8.gz           IBM1124.gz         ISO-8859-1.gz
ASMO_449.gz            IBM1129.gz         ISO-8859-2.gz
GB18030.gz             ISIRI-3342.gz      SAMI.gz
GB_1988-80.gz          ISO_10367-BOX.gz   SAMI-WS2.gz
GB2312.gz              ISO_10646.gz       SEN_850200_B.gz
GBK.gz                 ISO_11548-1.gz     SEN_850200_C.
HP-ROMAN9.gz           ISO_6937.gz        UTF-8.gz
......
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;enca&lt;/code&gt;查看文件编码方式&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;enca -L zh_CN file    ###检查文件的编码
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_2"&gt;解决方案&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;h4 id="iconv"&gt;iconv编码转换&lt;a class="headerlink" href="#iconv" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;使用&lt;code&gt;iconv&lt;/code&gt;命令进行文件编码转换，如乱码文件名为hello.txt，那么在终端输入如下命令：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;iconv -f gbk -t utf8 hello.txt &amp;gt; hello.utf8.txt
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;#### enca编码转换&lt;/p&gt;
&lt;p&gt;使用&lt;code&gt;enca&lt;/code&gt;命令转换:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;enca -L zh_CN -x UTF-8 hello.utf8.txt      ###将文件编码转换为"UTF-8"编码
enca -L zh_CN -x gbk hello.txt     ###将文件编码转换为"gbk"编码
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;enca&lt;/code&gt;有一个好处,如果文件本来就是你要转换的那种编码，它不会报错，还是会print出结果来， 而”iconv”则会报错。&lt;/p&gt;
&lt;/blockquote&gt;</summary><category term="gentoo"></category><category term="bugs"></category><category term="i18n"></category></entry><entry><title>Gentoo双网卡同时启用上内外网</title><link href="http://wonux.github.io/gentoo-dual-network.html" rel="alternate"></link><updated>2015-06-16T07:30:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2015-06-16:gentoo-dual-network.html</id><summary type="html">
&lt;blockquote&gt;
&lt;p&gt;引言：本文配置网络通过 &lt;a href=""&gt;OpenRC/netifrc&lt;/a&gt; 方法（net.*scritps）配置。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;外网网卡：enp3s4
内网网卡：enp2s0
- 外网地址（通过路由器）
IP： 192.168.1.10
掩码： 255.255.255.0
网关： 192.168.1.1
- 内网地址
IP： 172.14.255.27
掩码： 255.255.0.0
网关： 172.14.0.1
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;1、分别设置网卡&lt;span class="caps"&gt;IP&lt;/span&gt;，默认网关设置外网网关。
编辑&lt;code&gt;/etc/conf.d/net&lt;/code&gt;文件&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;config_enp3s4="192.168.1.10/24"
routes_enp3s4="default via 192.168.1.1"
config_enp2s0="172.14.255.27/16"
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><category term="gentoo"></category><category term="network"></category></entry><entry><title>Gentoo网络管理方法总结</title><link href="http://wonux.github.io/gentoo-network-method.html" rel="alternate"></link><updated>2015-06-15T15:30:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2015-06-15:gentoo-network-method.html</id><summary type="html">
&lt;h3 id="openrcnetifrc"&gt;OpenRC/netifrc&lt;a class="headerlink" href="#openrcnetifrc" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Netifrc is a collection of modules created to configure and manage network interfaces via individual, per-interface scripts located in the /etc/init.d/ directory.
Enable Gentoo’s network stack (&lt;a href="https://wiki.gentoo.org/wiki/Netifrc"&gt;net.* scripts&lt;/a&gt;).&lt;/p&gt;
&lt;h4 id="_1"&gt;检测网卡名字&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ifconfig -a
or
ls /sys/class/net
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h4 id="_2"&gt;添加网卡&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;通过&lt;code&gt;net.lo&lt;/code&gt;链接&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ln -s /etc/init.d/net.lo /etc/init.d/net.ifname
/etc/init.d/net.ifname start
rc-update add net.ifname default
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h4 id="ip"&gt;配置网络&lt;span class="caps"&gt;IP&lt;/span&gt;&lt;a class="headerlink" href="#ip" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;编辑&lt;code&gt;/etc/conf.d/net&lt;/code&gt;文件&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;config_ifname="192.168.1.10/24"    #ip、掩码
routes_ifname="default via 192.168.1.1"    #网关
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h4 id="dns"&gt;添加&lt;span class="caps"&gt;DNS&lt;/span&gt;&lt;a class="headerlink" href="#dns" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;编辑`/etc/resolv.conf文件&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nameserver 202.99.166.4
nameserver 202.99.160.68
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="newnet"&gt;Newnet&lt;a class="headerlink" href="#newnet" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;enable the &lt;a href=""&gt;new network&lt;/a&gt; stack (experimental)&lt;/p&gt;
&lt;h3 id="dhcpcd"&gt;&lt;span class="caps"&gt;DHCPCD&lt;/span&gt;&lt;a class="headerlink" href="#dhcpcd" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;D&lt;/strong&gt;ynamic &lt;strong&gt;H&lt;/strong&gt;ost &lt;strong&gt;C&lt;/strong&gt;onfiguration &lt;strong&gt;P&lt;/strong&gt;rotocol &lt;strong&gt;C&lt;/strong&gt;lient &lt;strong&gt;D&lt;/strong&gt;aemon (&lt;strong&gt;&lt;a href=""&gt;&lt;span class="caps"&gt;DHCPCD&lt;/span&gt;&lt;/a&gt;&lt;/strong&gt;) is a popular &lt;span class="caps"&gt;DHCP&lt;/span&gt; client for Gentoo Linux users.
使用dhcpcd自动获取&lt;span class="caps"&gt;IP&lt;/span&gt;，需要将net.*scripts标本停用，并设置&lt;code&gt;/etc/conf.d/net&lt;/code&gt;中&lt;code&gt;config_ifname="dhcp"&lt;/code&gt;或留空。&lt;/p&gt;
&lt;h4 id="dhcpcd-ui"&gt;dhcpcd-ui&lt;a class="headerlink" href="#dhcpcd-ui" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://wiki.gentoo.org/wiki/Dhcpcd-ui#Usage"&gt;https://wiki.gentoo.org/wiki/Dhcpcd-ui#Usage&lt;/a&gt;
- dhcpcd-gtk&lt;/p&gt;
&lt;h3 id="networkmanager"&gt;NetworkManager&lt;a class="headerlink" href="#networkmanager" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;NetworkManager&lt;/strong&gt; is a &lt;a href="https://wiki.gentoo.org/wiki/Network_management"&gt;network management software&lt;/a&gt; for Ethernet, Wifi, &lt;span class="caps"&gt;DSL&lt;/span&gt;, dialup, &lt;span class="caps"&gt;VPN&lt;/span&gt;, &lt;a href="https://wiki.gentoo.org/wiki/WiMAX"&gt;WiMAX&lt;/a&gt; and mobile broadband network connections.
It’s a good idea to use dhclient from &lt;a href=""&gt;net-misc/dhcp&lt;/a&gt; instead of &lt;a href=""&gt;net-misc/dhcpcd&lt;/a&gt;.&lt;/p&gt;
&lt;h4 id="networkmanager-gui"&gt;NetworkManager &lt;span class="caps"&gt;GUI&lt;/span&gt;&lt;a class="headerlink" href="#networkmanager-gui" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="caps"&gt;GTK&lt;/span&gt;:
 &lt;a href=""&gt;gnome-extra/nm-applet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;KDE&lt;/span&gt; Frontend:
&lt;a href=""&gt;kde-misc/plasma-nm&lt;/a&gt;
&lt;a href=""&gt;kde-misc/networkmanagement&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;参考：
&lt;a href="https://wiki.gentoo.org/wiki/Network_management"&gt;Network management &lt;/a&gt;
&lt;a href="https://wiki.gentoo.org/wiki/Network_management_using_DHCPCD/OpenRC_message"&gt;Network_management_using_DHCPCD/OpenRC_message&lt;/a&gt;
&lt;a href="https://wiki.gentoo.org/wiki/Netifrc"&gt;Netifrc &lt;/a&gt;
&lt;a href="https://wiki.gentoo.org/wiki/Network_management_using_DHCPCD"&gt;Network management using &lt;span class="caps"&gt;DHCPCD&lt;/span&gt; &lt;/a&gt;
&lt;a href="https://wiki.gentoo.org/wiki/NetworkManager"&gt;NetworkManager&lt;/a&gt;&lt;/p&gt;</summary><category term="gentoo"></category><category term="network"></category></entry><entry><title>Gentoo无线网络配置 — wpa_supplicant</title><link href="http://wonux.github.io/gentoo-wpa-supplicant.html" rel="alternate"></link><updated>2015-02-10T13:39:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2015-01-04:gentoo-wpa-supplicant.html</id><summary type="html">
&lt;h3 id="_1"&gt;安装&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;安装&lt;code&gt;net-wireless/wpa_supplicant&lt;/code&gt;包&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge --ask wpa_supplicant
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_2"&gt;启动网络&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;为wpa_supplicant添加无线接口
在&lt;code&gt;wpa_supplicant.conf&lt;/code&gt;文件中添加&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=wheel
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;初始化wpa_supplicant环境&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wpa_supplicant -d -Dnl80211 -iwlan0 -c /etc/wpa_supplicant/wpa_supplicant.conf
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;参数：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;-B - Fork into background.
-c filename - Path to configuration file.
-d increase debugging verbosity
-i interface - Interface to listen on.
-D driver - Optionally specify the driver to be used.
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;For a list of supported drivers see the output of &lt;code&gt;wpa_supplicant -h&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;nl80211&lt;/code&gt; is the current standard, but not all wireless chip’s modules support it.&lt;code&gt;wext&lt;/code&gt; is currently deprecated, but still widely supported.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;查看wpa_supplicant进程&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ps -aux | grep wpa
root      1841  0.0  0.2   6168  2920 ?        Ss   09:10   0:00 wpa_supplicant -B -c/etc/wpa_supplicant/wpa_supplicant.conf -iwlan0
root      2122  0.0  0.0   2780   728 pts/0    S+   09:25   0:00 grep --colour=auto wpa
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_3"&gt;配置&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Set for Gentoo net.* scrips，tell the network script to use wpa_supplicant.
&lt;code&gt;File/etc/conf.d/net&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;modules_wlan0&lt;/span&gt;=&lt;span class="s"&gt;"wpa_supplicant"&lt;/span&gt;
&lt;span class="c c-Singleline"&gt;# 因为wpa_supplicant还不能很好的自动侦测驱动，所以需要我们为其指定正在使用的驱动。&lt;/span&gt;
&lt;span class="n"&gt;wpa_supplicant_wlan0&lt;/span&gt;=&lt;span class="s"&gt;"-Dnl80211"&lt;/span&gt;
&lt;span class="n"&gt;config_wlan0&lt;/span&gt;=&lt;span class="s"&gt;"dhcp"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;Set for dhcpcd,no special setup is needed.Do not add wpa_supplicant to any runlevel. It will be controlled by dhcpcd.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;配置文件&lt;code&gt;/etc/wpa_supplicant/wpa_supplicant.conf&lt;/code&gt;&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# Allow users in the 'wheel' group to control wpa_supplicant
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=wheel
# Make this file writable for wpa_gui
update_config=1
#自动扫描AP（也就是可以上的无线网络热点）
ap_scan=1   
# 简单的情形：WPA-PSk密码验证方式，PSK是ASCII密码短语，所有合法的加密方式都允许连接
network={
  ssid="simple"
  psk="very secret passphrase"
  # 优先级越高，就能越早匹配到。
  priority=5
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;To allow unprivileged users to control the connection using wpa_gui / wpa_cli, make sure &lt;code&gt;GROUP=wheel&lt;/code&gt; and &lt;code&gt;update_config=1&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id="wpa_passphrase"&gt;也可以使用&lt;code&gt;wpa_passphrase&lt;/code&gt;命令添加无线热点&lt;a class="headerlink" href="#wpa_passphrase" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wpa_passphrase [ ssid ] [ passphrase ] &amp;gt;&amp;gt; /etc/wpa_supplicant/wpa_supplicant.conf
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;上面这条命令可以自动生成一段配置，我们将它输出添加到 wpa_supplicant 的默认配置文件里面。&lt;/p&gt;
&lt;h4 id="wpa_cli"&gt;wpa_cli&lt;a class="headerlink" href="#wpa_cli" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;运行wpa_cli时可能会出现如下的错误：
&lt;code&gt;Could not connect to wpa_supplicant - re-trying&lt;/code&gt;
这个错误可能是因为你的wpa_supplicant进程没有启动起来造成的。&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wpa_cli
&amp;gt; scan
&amp;gt; scan_results
&amp;gt; add_network
0
&amp;gt; set_network 0 ssid "MYSSID"
&amp;gt; set_network 0 psk "passphrase"
&amp;gt; enable_network 0
&amp;gt; save_config
OK
dhcpcd interface
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="ip"&gt;设置、获取&lt;span class="caps"&gt;IP&lt;/span&gt;&lt;a class="headerlink" href="#ip" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;自动获取&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dhcpcd wlan0
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;手动设置&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ifconfig wlan0 192.168.1.11 broadcast 192.168.1.255 netmask 255.255.255.0
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="gentoo-rc"&gt;告知Gentoo &lt;span class="caps"&gt;RC&lt;/span&gt;系统网卡名字&lt;a class="headerlink" href="#gentoo-rc" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cd /etc/init.d
ln -s net.lo net.wlan0
#start and stop it using the following commands:
/etc/init.d/net.eth0 start
/etc/init.d/net.eth0 stop
#开机启动
rc-update add wlan0 default
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><category term="gentoo"></category><category term="network"></category><category term="wireless"></category><category term="wpa2"></category></entry><entry><title>Gentoo本地化中文设置—Locale系统介绍</title><link href="http://wonux.github.io/gentoo-locale.html" rel="alternate"></link><updated>2015-01-05T16:35:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-11-20:gentoo-locale.html</id><summary type="html">
&lt;h3 id="locale"&gt;locale是什么？&lt;a class="headerlink" href="#locale" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;一份Locale是一组信息的集合，大多数程序利用它来确定特定的国家和语言设置。这些locale以及它们包含的数据是系统库的一部分，可以在大多数系统中的/usr/share/locale目录下找到。locale的名称通常命名为ab_CD的形式，其中ab是两个（或三个）字母的语言代号（在&lt;span class="caps"&gt;ISO&lt;/span&gt;-639中指定），&lt;span class="caps"&gt;CD&lt;/span&gt;是两个字母的国家代号（在&lt;span class="caps"&gt;ISO&lt;/span&gt;-3166中指定）。一些变量常常附加在locale名称的后面，例如en_GB.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8或de_DE@euro。&lt;/p&gt;
&lt;h3 id="locale_1"&gt;locale环境变量&lt;a class="headerlink" href="#locale_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Locale的设置保存在环境变量中。典型情况下设置在&lt;code&gt;/etc/env.d/02locale&lt;/code&gt;（系统全局设置）和 &lt;code&gt;~/.bashrc&lt;/code&gt;（特定用户设置）文件中。这些变量分别决定locale各方面的设置，下面的表格给出了具体说明。所有变量都会取一个前述ab_CD格式的locale名称作为值。 locale把按照所涉及到的文化传统的各个方面分成12个大类，这12个大类分别是：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    语言符号及其分类(LC_CTYPE)  
    数字(LC_NUMERIC)  
    比较和排序习惯(LC_COLLATE)  
    时间显示格式(LC_TIME)  
    货币单位(LC_MONETARY)  
    信息主要是提示信息,错误信息, 状态信息, 标题, 标签, 按钮和菜单等(LC_MESSAGES)  
    姓名书写方式(LC_NAME)  
    地址书写方式(LC_ADDRESS)  
    电话号码书写方式(LC_TELEPHONE)  
    度量衡表达方式(LC_MEASUREMENT)  
    默认纸张尺寸大小(LC_PAPER)  
    对locale自身包含信息的概述(LC_IDENTIFICATION)。  
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;其中，与中文输入关系最密切的就是&lt;strong&gt;LC_CTYPE,LC_CTYPE&lt;/strong&gt;规定了系统内有效的字符以及这些字符的分类，诸如什么是大写字母，小写字母，大小写转换，标点符号、可打印字符和其他的字符属性等方面。而locale定义zh_CN中最最重要的一项就是定义了汉字(Class “hanzi”)这一个大类，当然也是用Unicode描述的，这就让中文字符在Linux系统中成为合法的有效字符，而且不论它们是用什么字符集编码的。
在en_US的locale定义中，并没有定义汉字，所以汉字不是有效字符。所以如果要输入中文必须使用支持中文的locale，也就是zh_XX，如zh_CN，zh_TW，zh_HK等等。
另外非常重要的一点就是这些分类是彼此独立的，也就是说LC_CTYPE，LC_COLLATE和 LC_MESSAGES等等分类彼此之间是独立的，可以根据用户的需要设定成不同的值。这一点对很多用户是有利的，甚至是必须的。例如，我就需要一个能够输入中文的英文环境，所以我可以把LC_CTYPE设定成。&lt;/p&gt;
&lt;h3 id="locale_2"&gt;怎样设定locale呢？&lt;a class="headerlink" href="#locale_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;设定locale就是设定12大类的locale分类属性，即 12个&lt;code&gt;LC_*&lt;/code&gt;。除了这12个变量可以设定以外，为了简便起见，还有两个变量：&lt;code&gt;LC_ALL&lt;/code&gt;和&lt;code&gt;LANG&lt;/code&gt;。它们之间有一个优先级的关系：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;LC_ALL&lt;/code&gt; &amp;gt; &lt;code&gt;LC_*&lt;/code&gt; &amp;gt; &lt;code&gt;LANG&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;可以这么说，LC_ALL是最上级设定或者强制设定，而&lt;span class="caps"&gt;LANG&lt;/span&gt;是默认设定值。&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;1.如果你设定了LC_ALL＝zh_CN.UTF-8，那么不管LC_*和LANG设定成什么值，它们都会被强制服从LC_ALL的设定，成为 zh_CN.UTF-8。  
2.假如你设定了LANG＝zh_CN.UTF-8，而其他的LC_*=en_US.UTF-8，并且没有设定LC_ALL的话，那么系统的locale设定以LC_*=en_US.UTF-8。  
3.假如你设定了LANG＝zh_CN.UTF-8，而其他的LC_*，和LC_ALL均未设定的话，系统会将LC_*设定成默认值，也就是LANG的值 zh_CN.UTF-8 。  
4.假如你设定了LANG＝zh_CN.UTF-8，而其他的LC_CTYPE=en_US.UTF-8，其他的LC_*，和LC_ALL均未设定的话，那么系统的locale设定将是：LC_CTYPE=en_US.UTF-8，其余的 LC_COLLATE，LC_MESSAGES等等均会采用默认值，也就是LANG的值，也就是LC_COLLATE＝LC_MESSAGES＝……＝ LC_PAPER＝LANG＝zh_CN.UTF-8。  
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;所以，locale是这样设定的：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;1.如果你需要一个纯中文的系统的话，设定LC_ALL= zh_CN.XXXX，或者LANG= zh_CN.XXXX都可以，当然你可以两个都设定，但正如上面所讲，LC_ALL的值将复盖所有其他的locale设定，不要作无用功。  
2.如果你只想要一个可以输入中文的环境，而保持菜单、标题，系统信息等等为英文界面，那么只需要设定LC_CTYPE＝zh_CN.XXXX，LANG= en_US.XXXX就可以了。这样LC_CTYPE＝zh_CN.XXXX，而LC_COLLATE＝LC_MESSAGES＝……＝ LC_PAPER＝LANG＝en_US.XXXX。  
3.假如你高兴的话，可以把12个LC_*一一设定成你需要的值，打造一个古灵精怪的系统：LC_CTYPE＝zh_CN.GBK/GBK(使用中文编码内码GBK字符集)；LC_NUMERIC=en_GB.ISO-8859-1(使用大不列颠的数字系统)LC_MEASUREMEN=de_DE.ISO-8859-15@euro(德国的度量衡使用ISO-8859-15字符集)罗马的地址书写方式，美国的纸张设定……。估计没人这么干吧。  
4.假如你什么也不做的话，也就是LC_ALL，LANG和LC_*均不指定特定值的话，系统将采用POSIX作为lcoale，  
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;警告: LC_ALL设置之后不可被覆写，因此强烈反对使用。除非作测试请不要使用它，并且决不要把它设置在启动文件中。&lt;/p&gt;
&lt;/blockquote&gt;</summary><category term="gentoo"></category><category term="locale"></category></entry><entry><title>Gentoo启动菜单设置：使用官方LiveDVD Grub主题</title><link href="http://wonux.github.io/gentoo-grub-theme.html" rel="alternate"></link><updated>2014-11-20T15:21:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-11-20:gentoo-grub-theme.html</id><summary type="html">
&lt;h3 id="gentoo-grub"&gt;设置Gentoo Grub启动主题&lt;a class="headerlink" href="#gentoo-grub" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;拷贝官方LiveDVD grub主题：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下载官方&lt;span class="caps"&gt;DVD&lt;/span&gt;，找到 /boot/grub/themes/GenGrub目录，并拷贝出来。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;安装GenGrub主题：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;将GenGrub主题拷贝到系统的 /boot/grub/themes目录，并编辑grub配置文件：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nano -w /etc/default/grub
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;将主题路径设置成/boot/grub/themes/GenGrub/theme.txt&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;更新grub配置文件（grub2）：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;grub2-mkconfig -o /boot/grub/grub.cfg
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;系统自动检测存在的操作系统和主题。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="caps"&gt;OK&lt;/span&gt;，重启系统&lt;/li&gt;
&lt;/ul&gt;</summary><category term="gentoo"></category><category term="grub"></category></entry><entry><title>Gentoo !!! existing preserved libs问题</title><link href="http://wonux.github.io/gentoo-preserved-libs.html" rel="alternate"></link><updated>2014-11-20T14:01:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-11-20:gentoo-preserved-libs.html</id><summary type="html">
&lt;h2 id="_1"&gt;问题描述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;!!! existing preserved libs:
&amp;gt;&amp;gt;&amp;gt; package: media-libs/libmng-2.0.2-r1
 *  - /usr/lib/libmng.so.1
 *  - /usr/lib/libmng.so.1.0.0
 *      used by /opt/kingsoft/wps-office/office6/qt/plugins/imageformats/libqmng.so (app-office/wps-office-9.1.0.4751_alpha15)
&amp;gt;&amp;gt;&amp;gt; package: media-libs/lcms-1.19-r2
 *  - /usr/lib/liblcms.so.1
 *  - /usr/lib/liblcms.so.1.0.19
 *      used by /usr/lib/libmng.so.1 (preserved)
 *      used by /usr/lib/libmng.so.1.0.0 (preserved)
Use emerge @preserved-rebuild to rebuild packages using these libraries
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h2 id="_2"&gt;解决方法&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_3"&gt;折腾过程：&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;emerge @preserved-rebuild 不起作用。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;重装wps-office，再@preserved-rebuild，不起作用。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;重装media-libs/libmng、package: media-libs/lcms不起作用。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge media-libs/libmng
emerge media-libs/lcms
emerge --depclean
revdep-rebuild
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;4.卸载wps-office（一直无法解决，想卸载暂时放弃使用），preserved libs提示消失：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge -C wps-office
emerge --depclean
emerge @preserved-rebuild
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;5.第二天安装wps-office，成功无preserved libs提示。&lt;/p&gt;
&lt;h3 id="_4"&gt;总结&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;先卸载引起preserved libs的软件包（记得—depclean）&lt;/li&gt;
&lt;li&gt;@preserved-rebuild&lt;/li&gt;
&lt;li&gt;重新安装软件&lt;/li&gt;
&lt;/ul&gt;</summary><category term="gentoo"></category><category term="bugs"></category></entry><entry><title>Gentoo挂载Windowntfs的NTFS分区</title><link href="http://wonux.github.io/gentoo-ntfs.html" rel="alternate"></link><updated>2014-11-21T13:56:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-11-20:gentoo-ntfs.html</id><summary type="html">
&lt;h3 id="_1"&gt;内核需要开启的选项&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;File systems ---&amp;gt;
    &amp;lt;*&amp;gt; FUSE (Filesystem in Userspace) support
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="ntfs-3g"&gt;使用&lt;span class="caps"&gt;NTFS&lt;/span&gt;-3G&lt;a class="headerlink" href="#ntfs-3g" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span class="caps"&gt;NTFS&lt;/span&gt;-3G是一个由Tuxera公司开发并维护的开源项目，目的是为Linux提供&lt;span class="caps"&gt;NTFS&lt;/span&gt;分区的的驱动程序。它可以安全且快速地读写 Windows 系统的 &lt;span class="caps"&gt;NTFS&lt;/span&gt; 分区，而不用担心数据丢失。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;安装软件包：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge -pv sys-fs/ntfs3g
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;临时挂载&lt;span class="caps"&gt;NTFS&lt;/span&gt;分区&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;可以使用下面的命令以读写方式临时装载一个&lt;span class="caps"&gt;NTFS&lt;/span&gt;分区到装载点&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mount  -t ntfs-3g &amp;lt;NTFS Partition&amp;gt;  &amp;lt;Mount Point&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;系统启动时挂载&lt;span class="caps"&gt;NTFS&lt;/span&gt;分区&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;编辑&lt;code&gt;/etc/fstab&lt;/code&gt;&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;vi /etc/fstab
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;在文件最后增加如下格式的行&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;ntfs partition=""&gt; &lt;mount point=""&gt;  ntfs-3g  defaults  0 0&lt;/mount&gt;&lt;/ntfs&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;保存文件后重启系统或简单的执行下面的命令，即可装载&lt;span class="caps"&gt;NTFS&lt;/span&gt;分区到指定的装载点&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mount  -a
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><category term="gentoo"></category><category term="ntfs"></category></entry><entry><title>Gentoo网络配置</title><link href="http://wonux.github.io/gentoo-network.html" rel="alternate"></link><updated>2014-11-20T10:07:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-11-20:gentoo-network.html</id><summary type="html">
&lt;h2 id="_1"&gt;网卡识别配置&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;要开始配置你的网卡，你首先需要告诉Gentoo &lt;span class="caps"&gt;RC&lt;/span&gt;系统你的网卡。 可以用ifconfig命令查看自己网卡名字：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ifconfig -a
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;网卡名字（如eth0）的识别是通过在/etc/init.d目录里建立一个指向net.lo的符号链接来实现。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cd /etc/init.d
ln -s net.lo net.eth0
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h2 id="_2"&gt;启动和停止网络脚本&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;/etc/init.d/net.eth0 start
/etc/init.d/net.eth0 stop
rc-update add net.eth0 default  #设置开机启动eth0
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h2 id="_3"&gt;网络配置&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_4"&gt;命令方式（临时配置，重启后失效）：&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;设置网络包括了三个步骤：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用ifconfig配置ip地址：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ifconfig eth0 192.168.1.10 broadcast 192.168.1.255 netmask 255.255.255.0 up
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;使用route来设定路由的网关：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;route add default gw 192.168.1.1
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;创建/etc/resolv.conf配置&lt;span class="caps"&gt;DNS&lt;/span&gt;：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nano -w /etc/resolv.conf
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;nameserver $202.99.166.4
nameserver $202.99.160.68&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_5"&gt;配置文件方式：&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;编辑网络配置文件/etc/conf.d/net和/etc/resolv.conf。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;编辑/etc/conf.d/net配置主机&lt;span class="caps"&gt;IP&lt;/span&gt;地址、子网掩码和网关:&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nano -w /etc/conf.d/net
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;使用&lt;span class="caps"&gt;CIDR&lt;/span&gt;形式表示的静态&lt;span class="caps"&gt;IP&lt;/span&gt;：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;config_eth0="192.168.1.7/24"
routes_eth0="default via 192.168.1.1"
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;使用netmask形式表示的静态&lt;span class="caps"&gt;IP&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;config_eth0="192.168.1.7 broadcast 192.168.1.255 netmask 255.255.255.0"
routes_eth0="default via 192.168.1.1"
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;注意: 如果你没有指定，&lt;span class="caps"&gt;DHCP&lt;/span&gt;是默认选项。&lt;/p&gt;
&lt;h3 id="_6"&gt;测试：&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;测试是否能ping的通网关：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ping 192.168.1.1
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;如果能ping通，ip设置没错误。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;测试&lt;span class="caps"&gt;DNS&lt;/span&gt;：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;编辑/etc/resolv.conf配置&lt;span class="caps"&gt;DNS&lt;/span&gt;：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nano /etc/resolv.conf
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;在其中加入以下两行内容：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nameserver 202.99.160.68
nameserver 202.99.166.4
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;测试&lt;span class="caps"&gt;DNS&lt;/span&gt;解析是否正常：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ping www.baidu.com
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;如果能ping通，&lt;span class="caps"&gt;DNS&lt;/span&gt;设置无误。&lt;/p&gt;</summary><category term="gentoo"></category><category term="network"></category></entry><entry><title>Gentoo/Funtoo USE标记介绍</title><link href="http://wonux.github.io/gentoo-use.html" rel="alternate"></link><updated>2015-02-10T17:27:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-11-20:gentoo-use.html</id><summary type="html">
&lt;h3 id="gentoofuntoo-use"&gt;Gentoo/Funtoo &lt;span class="caps"&gt;USE&lt;/span&gt;标记&lt;a class="headerlink" href="#gentoofuntoo-use" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span class="caps"&gt;USE&lt;/span&gt;的简单理解如下：一个软件不只包含软件本身，还包括其组件，如，文档，插件，&lt;span class="caps"&gt;GUI&lt;/span&gt;支持等。&lt;span class="caps"&gt;USE&lt;/span&gt;就是用来标记是否要安装软件的同时安装这些组件。&lt;/p&gt;
&lt;h3 id="use"&gt;声明&lt;span class="caps"&gt;USE&lt;/span&gt;标记&lt;a class="headerlink" href="#use" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;所有&lt;span class="caps"&gt;USE&lt;/span&gt;标记都声明在&lt;span class="caps"&gt;USE&lt;/span&gt;变量里面。默认的&lt;span class="caps"&gt;USE&lt;/span&gt;设定，在make.defaults文件（你的profile的一部分）里声明。&lt;/p&gt;
&lt;h4 id="use_1"&gt;全局&lt;span class="caps"&gt;USE&lt;/span&gt;标记&lt;a class="headerlink" href="#use_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;不要通过修改make.defaults文件里的&lt;span class="caps"&gt;USE&lt;/span&gt;变量来满足你的需要：在升级Portage的时候，这个文件将会被破坏（被覆盖）。
要改变这个默认设置，你需要在&lt;span class="caps"&gt;USE&lt;/span&gt;变量里添加或移去关键字。这是通过在&lt;code&gt;/etc/make.conf&lt;/code&gt;里定义&lt;span class="caps"&gt;USE&lt;/span&gt;全局变量来实现的。
全局&lt;span class="caps"&gt;USE&lt;/span&gt;标记适用范围是整个系统，保存在 /etc/portage/make.conf 文件中。
比如，如果使用&lt;span class="caps"&gt;GNOME&lt;/span&gt;而不想使用&lt;span class="caps"&gt;KDE&lt;/span&gt;，就希望所有软件都要默认支持&lt;span class="caps"&gt;GNOME&lt;/span&gt;，&lt;span class="caps"&gt;KDE&lt;/span&gt;的支持就不要装，那么写上 &lt;span class="caps"&gt;USE&lt;/span&gt;＝“gnome -kde”。前面加 - 表示移除。
当前可用的全局&lt;span class="caps"&gt;USE&lt;/span&gt;标记列表可以在网上或者本机的/usr/portage/profiles/use.desc文件里找到。&lt;/p&gt;
&lt;h4 id="use_2"&gt;局部&lt;span class="caps"&gt;USE&lt;/span&gt;标记&lt;a class="headerlink" href="#use_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;局部&lt;span class="caps"&gt;USE&lt;/span&gt;标记只被单个包用来做该包特有的决定，保存在 &lt;code&gt;/etc/portage/package.use&lt;/code&gt; 中。
比如，某个软件需要安装帮助文档，加上doc。
当前可用的局部&lt;span class="caps"&gt;USE&lt;/span&gt;标记列表可以在网上或本机的/usr/portage/profiles/use.local.desc 文件里找到。&lt;/p&gt;
&lt;h4 id="use_3"&gt;临时&lt;span class="caps"&gt;USE&lt;/span&gt;标记&lt;a class="headerlink" href="#use_3" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;仅仅把&lt;span class="caps"&gt;USE&lt;/span&gt;变量声明成一个&lt;code&gt;环境变量&lt;/code&gt;设定临时&lt;span class="caps"&gt;USE&lt;/span&gt;。比如，在安装 xxx 的时候不要装 jj 就声明：
&lt;code&gt;USE ＝ "-jj" emerge xxx&lt;/code&gt;&lt;/p&gt;
&lt;h4 id="use_4"&gt;&lt;span class="caps"&gt;USE&lt;/span&gt;标记优先级&lt;a class="headerlink" href="#use_4" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;span class="caps"&gt;USE&lt;/span&gt;标记这么多地方可以定义，有的加有的减，听谁的，需要有优先级来判断。&lt;span class="caps"&gt;USE&lt;/span&gt;优先级顺序如下（由低到高）：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;make.defaults（这个文件不要去修改）里面的&lt;span class="caps"&gt;USE&lt;/span&gt;默认设定 &amp;lt; 用户在/etc/make.conf里面的&lt;span class="caps"&gt;USE&lt;/span&gt;设定 &amp;lt; 用户在/etc/portage/package.use里面的&lt;span class="caps"&gt;USE&lt;/span&gt;设定 &amp;lt; 作为环境变量的&lt;span class="caps"&gt;USE&lt;/span&gt;设定&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id="use_5"&gt;&lt;span class="caps"&gt;USE&lt;/span&gt;标记颜色&lt;a class="headerlink" href="#use_5" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;emerge命令显示时，不同&lt;strong&gt;颜色&lt;/strong&gt;&lt;span class="caps"&gt;USE&lt;/span&gt;标记的意义:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;*红色* 代表这次emerge用到的USE标记
*黄色* 表示从上次更新后该标记被增加、删除或者Masked
*蓝色* 前面带-表示这次emerge屏蔽掉的USE标记
*绿色* 的是你本次编译添加的新USE标记，或者去掉的USE标记。
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h4 id="use_6"&gt;包特有的&lt;span class="caps"&gt;USE&lt;/span&gt;标记&lt;a class="headerlink" href="#use_6" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;查看特定包可用&lt;span class="caps"&gt;USE&lt;/span&gt;标记&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge -pv xxx
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h4 id="use_7"&gt;系统上应用新的&lt;span class="caps"&gt;USE&lt;/span&gt;标记&lt;a class="headerlink" href="#use_7" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;如果你已经修改了你的&lt;span class="caps"&gt;USE&lt;/span&gt;标记，而且你想用新&lt;span class="caps"&gt;USE&lt;/span&gt;标记更新你的系统，可以使用emerge 的 &lt;code&gt;--newuse&lt;/code&gt;。&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge --update --deep --newuse world  （重新构建你的系统）
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;参考：
http://en.gentoo-wiki.com/wiki/Portage
http://www.gentoo.org/doc/en/handbook/handbook-x86.xml?part=2&amp;amp;chap=1 http://www.gentoo.org/dyn/use-index.xml&lt;/p&gt;</summary><category term="gentoo"></category><category term="portage"></category><category term="use"></category></entry><entry><title>Gentoo Xorg:Failed to load module “……” 问题</title><link href="http://wonux.github.io/gentoo-xorg-failed.html" rel="alternate"></link><updated>2014-12-22T14:12:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-10-24:gentoo-xorg-failed.html</id><summary type="html">
&lt;h3 id="_1"&gt;错误描述：&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;安装完xorg-server后，startx启动桌面环境，出现缺少模块错误。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Xorg:Failed to load module “……”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;查看log：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat /var/log/Xorg.0.log | grep EE  
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;[75.403] (&lt;span class="caps"&gt;EE&lt;/span&gt;) Failed to load module “modesetting” (module does not exist, 0)
[75.403] (&lt;span class="caps"&gt;EE&lt;/span&gt;) Failed to load module “fbdev” (module does not exist, 0)
[75.403] (&lt;span class="caps"&gt;EE&lt;/span&gt;) Failed to load module “vesa” (module does not exist, 0)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_2"&gt;解决方法：&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;查看xorg-drivers中INPUT_DEVICES和VIDEO_CARDS变量,在make.conf中添加缺失的标记。&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge -pv  xorg-drivers
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;These are the packages that would be merged, in order:
Calculating dependencies  … done!
[ebuild   R    ] x11-base/xorg-drivers-1.15  INPUT_DEVICES=”evdev keyboard mouse -acecad -aiptek -elographics -fpit -hyperpen -joystick -mutouch -penmount -synaptics -tslib -vmmouse -void -wacom” VIDEO_CARDS=”intel -apm -ast -chips -cirrus -dummy -epson -fbdev -fglrx (-freedreno) -geode -glint -i128 -i740 -mach64 -mga -modesetting -neomagic -nouveau -nv -nvidia (-omap) (-omapfb) -qxl -r128 -radeon -radeonsi -rendition -s3virge -savage -siliconmotion -sisusb (-sunbw2) (-suncg14) (-suncg3) (-suncg6) (-sunffb) (-sunleo) (-suntcx) -tdfx -tga -trident -tseng -v4l -vesa -via -virtualbox -vmware (-voodoo)” 0 kB&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在VIDEO_CARDS中添加modesetting,fbdev,vesa即可。&lt;/p&gt;</summary><category term="gentoo"></category><category term="bugs"></category><category term="xorg"></category></entry><entry><title>Arch无线网络网络管理</title><link href="http://wonux.github.io/arch-wireless.html" rel="alternate"></link><updated>2016-02-02T11:32:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-10-22:arch-wireless.html</id><summary type="html">
&lt;h3 id="wifi-menu-dhcpcd"&gt;wifi-menu脚本 + dhcpcd&lt;a class="headerlink" href="#wifi-menu-dhcpcd" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;</summary><category term="arch"></category><category term="network"></category><category term="wireless"></category></entry><entry><title>Arch软件管理 — Pacman常用命令</title><link href="http://wonux.github.io/arch-pacman.html" rel="alternate"></link><updated>2015-02-10T17:03:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-10-22:arch-pacman.html</id><summary type="html">
&lt;p&gt;Pacman是Arch Linux 的包管理器。它将一个简单的二进制包格式和易用的构建系统结合了起来。不管软件包是来自官方的 Arch 库还是用户自己创建，Pacman 都能方便得管理。&lt;/p&gt;
&lt;h3 id="_1"&gt;更新系统&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在 Archlinux 中，使用一条命令即可对整个系统进行更新：
&lt;code&gt;pacman -Syu&lt;/code&gt;
如果你已经使用&lt;code&gt;pacman -Sy&lt;/code&gt;将本地的包数据库与远程的仓库进行了同步，也可以只执行：&lt;code&gt;pacman -Su&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="_2"&gt;安装包&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;➔ pacman -S：例如，执行 pacman -S firefox 将安装 Firefox。你也可以同时安装多个包，
只需以空格分隔包名即可。
➔ pacman -Sy：与上面命令不同的是，该命令将在同步包数据库后再执行安装。
➔ pacman -Sv：在显示一些操作信息后执行安装。
➔ pacman -U：安装本地包，其扩展名为 pkg.tar.gz。
➔ pacman -U http://www.example.com/repo/example.pkg.tar.xz 安装一个远程包（不在 pacman 配置的源里面）
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_3"&gt;删除包&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;➔ pacman -R ：该命令将只删除包，保留其全部已经安装的依赖关系
➔ pacman -Rs ：在删除包的同时，删除其所有没有被其他已安装软件包使用的依赖关系
➔ pacman -Rsc ：在删除包的同时，删除所有依赖这个软件包的程序
➔ pacman -Rd：在删除包时不检查依赖。
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_4"&gt;搜索包&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;➔ pacman -Ss 关键字：在仓库中搜索含关键字的包。
➔ pacman -Qs 关键字： 搜索已安装的包。
➔ pacman -Qi 包名：查看有关包的详尽信息。
➔ pacman -Ql 包名：列出该包的文件。
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_5"&gt;其他用法&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;➔ pacman -Sw 包名：只下载包，不安装。
➔ pacman -Sc：清理未安装的包文件，包文件位于 /var/cache/pacman/pkg/ 目录。
➔ pacman -Scc：清理所有的缓存文件。
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><category term="arch"></category><category term="pacman"></category></entry><entry><title>Arch声卡配置</title><link href="http://wonux.github.io/arch-alsa.html" rel="alternate"></link><updated>2016-02-03T15:03:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-10-11:arch-alsa.html</id><summary type="html">
&lt;h3 id="alsa-utilities"&gt;&lt;span class="caps"&gt;ALSA&lt;/span&gt; Utilities&lt;a class="headerlink" href="#alsa-utilities" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Install the &lt;code&gt;alsa-utils&lt;/code&gt; package. This contains (among other utilities) the &lt;code&gt;alsamixer&lt;/code&gt; and &lt;code&gt;amixer&lt;/code&gt; utilities.&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S alsa-utils
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="unmuting-the-channels"&gt;Unmuting the channels&lt;a class="headerlink" href="#unmuting-the-channels" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span class="caps"&gt;ALSA&lt;/span&gt; by default has all channels muted, all of which will need to be unmuted manually. This can be done using amixer:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;amixer sset Master unmute
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;This can alternatively be done using alsamixer:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;alsamixer
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="test-your-changes"&gt;Test your changes&lt;a class="headerlink" href="#test-your-changes" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;speaker-test -c 2
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="user-privileges"&gt;User privileges&lt;a class="headerlink" href="#user-privileges" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Usually, local users have permission to play audio and change mixer levels.
To allow remote users to use &lt;span class="caps"&gt;ALSA&lt;/span&gt;, you need to &lt;a href="https://wiki.archlinux.org/index.php/Users_and_groups#Group_management"&gt;add&lt;/a&gt; those users to the audio group.&lt;/p&gt;
&lt;p&gt;参考：&lt;a href="https://wiki.archlinux.org/index.php/Advanced_Linux_Sound_Architecture"&gt;https://wiki.archlinux.org/index.php/Advanced_Linux_Sound_Architecture&lt;/a&gt;&lt;/p&gt;</summary><category term="arch"></category><category term="alsa"></category></entry><entry><title>Arch安装fcitx</title><link href="http://wonux.github.io/arch-fcitx.html" rel="alternate"></link><updated>2015-12-11T16:03:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-10-11:arch-fcitx.html</id><summary type="html">
&lt;h3 id="fcitxgtkqt"&gt;安装fcitx,安装gtk、qt模块。&lt;a class="headerlink" href="#fcitxgtkqt" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[root@Arctux ~]# pacman -S fcitx-im
:: There are 4 members in group fcitx-im:
:: Repository community
   1) fcitx  2) fcitx-gtk2  3) fcitx-gtk3  4) fcitx-qt4
Enter a selection (default=all):
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="fcitx"&gt;安装fcitx配置工具&lt;a class="headerlink" href="#fcitx" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[root@ARCH ~]# pacman -S fcitx-configtool
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="xinitrcgtkqt"&gt;&lt;code&gt;.xinitrc&lt;/code&gt;文件添加gtk、qt支持&lt;a class="headerlink" href="#xinitrcgtkqt" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export XMODIFIERS=@im=fcitx
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><category term="arch"></category><category term="fcitx"></category></entry><entry><title>ArchLinux安装详解</title><link href="http://wonux.github.io/arch-handbook.html" rel="alternate"></link><updated>2014-12-26T16:01:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-10-10:arch-handbook.html</id><summary type="html">
&lt;h2 id="_1"&gt;选择安装方式&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="cdusb-arch"&gt;&lt;span class="caps"&gt;CD&lt;/span&gt;/&lt;span class="caps"&gt;USB&lt;/span&gt; Arch启动盘安装&lt;a class="headerlink" href="#cdusb-arch" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;使用Arch启动盘比较简单方便，没有额外设置，直接阅读下一步。
&lt;span class="caps"&gt;USB&lt;/span&gt; flash installation media&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;启动盘制作： &lt;a href="https://wiki.archlinux.org/index.php/USB_flash_installation_media"&gt;&lt;span class="caps"&gt;USB&lt;/span&gt; flash installation media&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="linuxarch"&gt;从已经存在的Linux系统中安装（非Arch类）&lt;a class="headerlink" href="#linuxarch" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;从已经存在的非Arch系统环境中安装arch，本质上是搭建引导过程中可以运行&lt;code&gt;arch-install-scripts&lt;/code&gt; 脚本(包括&lt;code&gt;pacstrap&lt;/code&gt;和&lt;code&gt;arch-chroot&lt;/code&gt;命令) 的系统环境。&lt;/p&gt;
&lt;h4 id="arch-chroot"&gt;创建Arch chroot环境&lt;a class="headerlink" href="#arch-chroot" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;1、推荐使用&lt;code&gt;bootstrap&lt;/code&gt;镜像&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;### Download the bootstrap image from a mirror：
 [root@GENTOO ~] curl -O http://mirrors.kernel.org/archlinux/iso/2015.10.01/archlinux-bootstrap-2015.10.01-x86_64.tar.gz
### Extract the tarball:
 [root@GENTOO ~] cd /tmp# tar xzf &amp;lt;path-to-bootstrap-image&amp;gt;/archlinux-bootstrap-2015.10.01-x86_64.tar.gz
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;2、编辑&lt;code&gt;/tmp/root.x86_64/etc/pacman.d/mirrorlist&lt;/code&gt;本件，选择镜像源 3、进入chroot环境&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;/tmp/root.x86_64/bin/arch-chroot /tmp/root.x86_64/
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h4 id="arch-chroot_1"&gt;使用Arch chroot环境&lt;a class="headerlink" href="#arch-chroot_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;1、初始化pacman keyring&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# pacman-key --init
# pacman-key --populate archlinux
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;2、编辑&lt;code&gt;/etc/pacman.d/mirrorlist&lt;/code&gt;本件，选择镜像源 3、更新软件列表&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# pacman -Syyu
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;4、安装系统
Arch Chroot环境已经具备，继续下面的步骤，选择安装需要的系统&lt;code&gt;base&lt;/code&gt;, &lt;code&gt;base-devel&lt;/code&gt;, &lt;code&gt;parted&lt;/code&gt;等.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;参考：&lt;a href="https://wiki.archlinux.org/index.php/Install_from_existing_Linux"&gt;https://wiki.archlinux.org/index.php/Install_from_existing_Linux&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_2"&gt;准备&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_3"&gt;准备磁盘分区&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;新建并格式化分区&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;至少准备一个足够大的/分区，如果磁盘容量足够，可以额外创建/home、/boot等。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;创建挂载目录&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir /mnt
mkdir /mnt/boot
mkdir /mnt/home
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;挂载根分区和swap&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Mount the root partition on /mnt. After that, create directories for and mount any other partitions (/mnt/boot, /mnt/home, …) and activate your swap partition if you want them to be detected later by genfstab.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mount /dev/sdax /mnt
mount /dev/sdax/boot
mount /dev/sdax/home
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_4"&gt;准备连接&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;有线：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;默认使用Dhcp，一般自动检测，无需设置&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;无线：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wifi-menu
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;编辑镜像列表&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wget -O /etc/pacman.d/mirrorlist https://www.archlinux.org/mirrorlist/all/
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;取消注释中国的镜像&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_5"&gt;安装系统&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacstrap /mnt base
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h2 id="_6"&gt;配置系统&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="fstab"&gt;fstab文件&lt;a class="headerlink" href="#fstab" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Generate an fstab file (use -U or -L to define by &lt;span class="caps"&gt;UUID&lt;/span&gt; or labels):&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;genfstab -p /mnt &amp;gt;&amp;gt; /mnt/etc/fstab
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="chroot"&gt;chroot&lt;a class="headerlink" href="#chroot" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;arch-chroot /mnt
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="hostname"&gt;Hostname:&lt;a class="headerlink" href="#hostname" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;echo computer_name &amp;gt; /etc/hostname
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="time-zone"&gt;Time zone:&lt;a class="headerlink" href="#time-zone" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ln -sf /usr/share/zoneinfo/zone/subzone /etc/localtime
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="locale"&gt;Locale:&lt;a class="headerlink" href="#locale" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nano -w /etc/locale.gen
locale-gen
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="password"&gt;Password:&lt;a class="headerlink" href="#password" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;passwd
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="initial-ram"&gt;Initial &lt;span class="caps"&gt;RAM&lt;/span&gt;:&lt;a class="headerlink" href="#initial-ram" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkinitcpio -p linux
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="bootloader"&gt;Bootloader:&lt;a class="headerlink" href="#bootloader" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;安装grub2:&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S grub
grub-install --target=i386-pc --recheck  /dev/sda
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;Dual-booting:&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S os-prober
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;生成grub配置文件&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;grub-mkconfig -o /boot/grub/grub.cfg
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_7"&gt;重启&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;exit
reboot
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><category term="arch"></category><category term="handbook"></category></entry><entry><title>Arch下载官方镜像列表Official mirrors</title><link href="http://wonux.github.io/arch-mirrors.html" rel="alternate"></link><updated>2015-02-10T17:08:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-10-08:arch-mirrors.html</id><summary type="html">
&lt;h3 id="official-mirrors"&gt;Official mirrors&lt;a class="headerlink" href="#official-mirrors" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The official Arch Linux mirror list is available from the &lt;code&gt;pacman-mirrorlist&lt;/code&gt; package. To get an even more up-to-date list of mirrors, use the Pacman Mirror List Generator page on the main site.&lt;/p&gt;
&lt;h4 id="_1"&gt;手动下载镜像列表&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;有时因为系统镜像列表丢失或可读性不强，我们需要从官方网站下载按地区分类的镜像列表，很简单，执行如下命令：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wget -O /etc/pacman.d/mirrorlist https://www.archlinux.org/mirrorlist/all/
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><category term="arch"></category><category term="mirrors"></category></entry><entry><title>gcc-config:Active gcc profile is invalid 解决办法</title><link href="http://wonux.github.io/gentoo-gcc-invalid.html" rel="alternate"></link><updated>2014-11-14T17:36:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-09-02:gentoo-gcc-invalid.html</id><summary type="html">
&lt;h3 id="_1"&gt;错误描述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Gentoo软件安装错误,提示：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;gcc-config: Active gcc profile is invalid&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_2"&gt;解决方法：&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;列出可用的profile&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;gcc-config -l
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;gcc-config: Active gcc profile is invalid!
  [1] i686-pc-linux-gnu-4.6.3&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;显示当前使用的profile&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;gcc-config -c
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;gcc-config: Active gcc profile is invalid!
[1] i686-pc-linux-gnu-4.6.3&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;设置profile&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;gcc-config i686-pc-linux-gnu-4.6.3
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;Switching native-compiler to i686-pc-linux-gnu-4.6.3 …
Regenerating /etc/ld.so.cache…                                      [ ok ]&lt;/p&gt;
&lt;/blockquote&gt;</summary><category term="gentoo"></category><category term="bugs"></category><category term="gcc"></category></entry><entry><title>Gentoo本地化设置—时区、时钟、字体、中文环境</title><link href="http://wonux.github.io/gentoo-localization.html" rel="alternate"></link><updated>2015-01-05T16:05:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-06-30:gentoo-localization.html</id><summary type="html">
&lt;h2 id="_1"&gt;时区&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;你需要选择时区让系统知道你的地理位置，以保持正确的时间。在/usr/share/zoneinfo中查找你的时区。然后在/etc/conf.d/clock中设置时区。请忽略/usr/share/zoneinfo/Etc/&lt;span class="caps"&gt;GMT&lt;/span&gt;*时区，因为它们的名字并不表示所指的地区。比如，&lt;span class="caps"&gt;GMT&lt;/span&gt;-8实际上是&lt;span class="caps"&gt;GMT&lt;/span&gt;+8。 设置时区信息：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ls /usr/share/zoneinfo
echo "Asia/Shanghai" &amp;gt; /etc/timezone
emerge --config sys-libs/timezone-data
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;注意: 你可以做一个用户级的设置，在shell的rc文件（如bash的.bash_profile）中将&lt;span class="caps"&gt;TZ&lt;/span&gt;变量的值设为/usr/share/zoneinfo下的任何东西。本案例中&lt;span class="caps"&gt;TZ&lt;/span&gt;=”Asia/Shanghai”。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_2"&gt;硬件时钟&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Gentoo Linux安装过程中，大多数情况下硬件时钟都是被设成&lt;span class="caps"&gt;UTC&lt;/span&gt;（或&lt;span class="caps"&gt;GMT&lt;/span&gt;，格林威治标准时间），而时区则定为实际的本地时间。如果出于某种原因，你需要将硬件时钟设为非&lt;span class="caps"&gt;UTC&lt;/span&gt;，那么你就要编辑/etc/conf.d/hwclock，将&lt;span class="caps"&gt;CLOCK&lt;/span&gt;的值由&lt;span class="caps"&gt;UTC&lt;/span&gt;改为local。&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;CLOCK="UTC"
或
CLOCK="local"
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h2 id="_3"&gt;安装中文字体&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;推荐开源文泉驿自由字体&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge wqy-zenhei （文泉驿正黑）
emerge wqy-microhei （文泉驿微米黑）
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h2 id="locale"&gt;生成指定的Locale&lt;a class="headerlink" href="#locale" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;可能你在系统中只要用到一个或者两个locale。你可以在/etc/locale.gen中指定所需的的locale。
中文有很多种编码，最流行的就是&lt;span class="caps"&gt;UTF8&lt;/span&gt;和&lt;span class="caps"&gt;GBK&lt;/span&gt;。我们推荐客户使用&lt;span class="caps"&gt;UTF8&lt;/span&gt;编码，因为这是国际标准，能兼容任何语言的编码。&lt;/p&gt;
&lt;p&gt;添加locale到&lt;code&gt;/etc/locale.gen&lt;/code&gt;&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nano -w /etc/locale.gen
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;en_US &lt;span class="caps"&gt;ISO&lt;/span&gt;-8859-1
en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8 &lt;span class="caps"&gt;UTF&lt;/span&gt;-8
zh_CB.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8 &lt;span class="caps"&gt;UTF&lt;/span&gt;-8&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;下一步是执行&lt;code&gt;locale-gen&lt;/code&gt;。它会生成/etc/locale.gen文件中指定的所有locale。&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;locale-gen
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;你可以通过执行locale -a来检验所选的locale是否可用。&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;locale -a
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h2 id="locale_1"&gt;设置一个Locale显示中文&lt;a class="headerlink" href="#locale_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;在&lt;code&gt;/etc/env.d/02locale&lt;/code&gt;中设置全局默认的系统locale&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class="caps"&gt;LANG&lt;/span&gt;=”zh_CN.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8” LC_COLLATE=”C”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;在~/.bashrc中设置用户级的系统locale&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;export &lt;span class="caps"&gt;LANG&lt;/span&gt;=”zh_CN.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
export LC_COLLATE=”C”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;更新系统全局默认的locale：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;设置好正确的locale后，一定要更新环境变量使系统知道所做的更改：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;env-update &amp;amp;&amp;amp; source /etc/profile
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;更新特定用户的locale：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;source ~/.bashrc
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;更新环境后，你需要按下Ctrl-Alt-Backspace杀死X服务器，登出，然后以用户身份登入。 现在，检验一下所做的更改是否已经生效了：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;locale
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;注：&lt;em&gt;另一种系统配置方式是保留默认的C locale，同时要能够表现&lt;span class="caps"&gt;UTF&lt;/span&gt;-8字符。
这种选择可以通过使用下述设置来实现：LC_CTYPE=zh_CN.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;</summary><category term="gentoo"></category><category term="locale"></category></entry><entry><title>Gentoo解决Udev升级的网卡重命名问题</title><link href="http://wonux.github.io/gentoo-udev-netware.html" rel="alternate"></link><updated>2014-06-30T10:40:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-06-30:gentoo-udev-netware.html</id><summary type="html">
&lt;h2 id="_1"&gt;问题描述：&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;配置网络时，很多新手运行ifconfig命令查看网卡时，会发现我们熟悉的eth0网卡没有了，或是发现一些不规则命名的东东，不错，那就是你的网卡。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;因为内核升级（忘记具体哪个版本了）从udev-197将自动分配更好的接口,网卡的命名改变了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;参考资料：&lt;a href="http://www.freedesktop.org/wiki/Software/systemd/PredictableNetworkInterfaceNames"&gt;http://www.freedesktop.org/wiki/Software/systemd/PredictableNetworkInterfaceNames&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;从开机信息中可以看到提示：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dmesg |grep network
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;[   74.261872] systemd-udevd[14259]: renamed network interface wlan0 to wlp2s0
[   74.391865] systemd-udevd[14259]: renamed network interface eth0 to enp0s4&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_2"&gt;解决方法：&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;使用老的命名方式（eth×）：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;使用原来的网卡名字eth0,重置udev的rules：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;方法一： 在kernel命令行选项里使用net.ifnames=0 ; 方法二：新建空文件文件/etc/udev/rules.d/80-net-name-slot.rules或注释掉里面内容&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ln -s /dev/null /etc/udev/rules.d/80-net-name-slot.rules
或
touch /etc/udev/rules.d/80-net-name-slot.rules
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;使用新的网卡名字：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rm /etc/udev/rules.d/80-net-name-slot.rules
rm /etc/init.d/net.eth0 #删除不存在的引用
rc-update delete net.eth0 default #删除不存在的开机启动
cd /etc/init.d
ln -s net.lo net.enp0s3
rc-update add net.enp0s3 default #使用新名字
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><category term="gentoo"></category><category term="bugs"></category><category term="network"></category></entry><entry><title>ArchLinux最小化安装LXDE桌面环境</title><link href="http://wonux.github.io/arch-xorg-lxde.html" rel="alternate"></link><updated>2015-01-04T14:02:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-06-10:arch-xorg-lxde.html</id><summary type="html">
&lt;h3 id="lxde"&gt;安装最小化的&lt;span class="caps"&gt;LXDE&lt;/span&gt;桌面环境：&lt;a class="headerlink" href="#lxde" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S lxde-common
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="lxde-session"&gt;安装&lt;span class="caps"&gt;LXDE&lt;/span&gt; Session：&lt;a class="headerlink" href="#lxde-session" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S lxsession
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;不安装这个没法登录进桌面环境&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="lxde_1"&gt;安装&lt;span class="caps"&gt;LXDE&lt;/span&gt;面板：&lt;a class="headerlink" href="#lxde_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S lxpanel
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;不安装这个，进入&lt;span class="caps"&gt;LXDE&lt;/span&gt;桌面环境后什么都没有&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_1"&gt;安装窗口管理器:&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S openbox
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;不安装这个，既不能移动窗口，也不能最大、最小化窗口&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="lxde_2"&gt;安装&lt;span class="caps"&gt;LXDE&lt;/span&gt;环境下的终端程序:&lt;a class="headerlink" href="#lxde_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S lxterminal
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="lxde_3"&gt;安装&lt;span class="caps"&gt;LXDE&lt;/span&gt;环境下的文件管理器:&lt;a class="headerlink" href="#lxde_3" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S pcmanfm
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_2"&gt;总结&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;根据自己需要取舍上述组件，现在我仅仅使用&lt;code&gt;openbox&lt;/code&gt;，&lt;span class="caps"&gt;DIY&lt;/span&gt;配合其他工具，超精简流畅。&lt;/p&gt;</summary><category term="arch"></category><category term="xorg"></category><category term="lxde"></category></entry><entry><title>Arch最小化安装X</title><link href="http://wonux.github.io/arch-xorg.html" rel="alternate"></link><updated>2015-01-04T13:56:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-06-10:arch-xorg.html</id><summary type="html">
&lt;h2 id="xorg"&gt;Xorg&lt;a class="headerlink" href="#xorg" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="xorg-server"&gt;xorg-server&lt;a class="headerlink" href="#xorg-server" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;安装xorg-server&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S xorg-server
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;可选：xorg-server-utils&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S xorg-server-utils
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;Xorg-server-utils meta-package pulls in the most useful packages for certain configuration tasks, they are pointed out in the relevant sections.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="driver-installation"&gt;Driver installation&lt;a class="headerlink" href="#driver-installation" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如果不知道显卡类型，请执行如下命令进行查询：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;lspci | grep VGA
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;输入下面命令，查看所有开源驱动:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -Ss xf86-video | less
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;安装显卡驱动:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;vesa：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S xf86-video-vesa
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;vesa是一个支持大部分显卡的通用驱动，不提供任何 2D 和 3D 加速功能。 要充分发挥显卡性能，请按下表安装驱动程序。推荐先使用开源驱动，这些驱动出问题的可能性较小。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="caps"&gt;AMD&lt;/span&gt;/&lt;span class="caps"&gt;ATI&lt;/span&gt; :&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S xf86-video-ati
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;Intel:&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S xf86-video-intel
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;Nvidia:&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S xf86-video-nouveau     
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="running"&gt;Running&lt;a class="headerlink" href="#running" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Display manager:
最简单的方法是使用登录管理器 例如 &lt;span class="caps"&gt;GDM&lt;/span&gt;, &lt;span class="caps"&gt;KDM&lt;/span&gt; or SLiM.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Manually：
如果不用登陆管理器启动 X，需要安装软件包 xorg-xinit。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S xorg-xinit
pacman -S xorg-twm xorg-xclock xterm
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;startx 和 xinit 命令将启动 X 服务器和客户端(startx 脚本是更通用命令 xinit 的前端)。为了确定要运行的客户端，startx/xinit 先在用户目录解析 ~/.xinitrc 文件，如果 ~/.xinitrc 不存在，使用默认的 /etc/X11/xinit/xinitrc, 其中默认会使用 Twm 窗口管理器，Xclock 和 Xterm（需安装 xorg-twm, xorg-xclock 和 xterm）.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;To launch the X server and clients:&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;startx
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><category term="arch"></category><category term="xorg"></category></entry><entry><title>Gentoo解决Windows双系统时间不同步的问题</title><link href="http://wonux.github.io/gentoo-handbook-clock.html" rel="alternate"></link><updated>2014-11-20T14:05:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-05-06:gentoo-handbook-clock.html</id><summary type="html">
&lt;blockquote&gt;
&lt;p&gt;升级后的gentoo不再使用/etc/conf.d/clock，而是使用/etc/conf.d/hwclock来设置和时间相关了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;在/etc/conf.d/hwclock文件中设置系统时间为本地时间而不是&lt;span class="caps"&gt;UTC&lt;/span&gt;时间:&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;clock="local"     #default: UTC
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;然后用date命令设置正确的系统时间，格式如下：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;date [MMDDhhmm[YY][.ss］
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;其他的不用解释了，其中的&lt;span class="caps"&gt;YY&lt;/span&gt;表示年份的前２位数。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;然后再把系统时间同步到硬件时间就可以了：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; hwclock --systohc
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;使用hwclock命令也可以把硬件时间同步到系统时间：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; hwclock --hctosys
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;显示硬件时间则是：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hwclock --show
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><category term="gentoo"></category><category term="clock"></category></entry><entry><title>Gentoo安装详解（五）—声卡设置</title><link href="http://wonux.github.io/gentoo-handbook-alsa.html" rel="alternate"></link><updated>2015-02-11T11:54:00+08:00</updated><author><name>Ace King</name></author><id>tag:wonux.github.io,2014-05-05:gentoo-handbook-alsa.html</id><summary type="html">
&lt;h3 id="_1"&gt;硬件检测&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;To choose the right driver, first detect the used audio controller. You can use lspci for this task:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;lspci | grep -i audio
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_2"&gt;内核配置&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;You need to activate the following kernel options:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Device Drivers ---&amp;gt;
    Sound ---&amp;gt;
        &amp;lt;*&amp;gt; Sound card Support
            &amp;lt;*&amp;gt; Advanced Linux Sound Architecture ---&amp;gt;
                [*]   PCI sound devices  ---&amp;gt;

                      Select the driver for your audio controller, e.g.:
                      &amp;lt;*&amp;gt;   Intel HD Audio  ---&amp;gt; (snd-hda-intel)
                            Select a codec or enable all and let the generic parse choose the right one:
                            [*] Build Realtek HD-audio codec support
                            [*] ...
                            [*] Build Silicon Labs 3054 HD-modem codec support
                            [*] Enable generic HD-audio codec parser
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_3"&gt;软件&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;You also want to install media-sound/alsa-utils, if it isn’t already pulled in:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge --ask alsa-utils
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_4"&gt;配置&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;h4 id="_5"&gt;权限&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Add the user you want to be able to access the sound card to the audio group:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;gpasswd -a larry audio
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h4 id="_6"&gt;服务&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;You can now start &lt;span class="caps"&gt;ALSA&lt;/span&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;/etc/init.d/alsasound start
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;To start &lt;span class="caps"&gt;ALSA&lt;/span&gt; at boot time, add it your boot runlevel:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rc-update add alsasound boot
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h4 id="mixer"&gt;Mixer调节音量，取消静音&lt;a class="headerlink" href="#mixer" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;If you can’t hear anything, the output channels may be muted. Unmute the channels with your desktop environment’s mixer or with alsamixer by selecting the appropriate channels and hitting the m key to mute or unmute:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;alsamixer
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_7"&gt;测试声音&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;If everything above is perfect, you should now be able to test your sound card and your speakers. We will use the speaker-test command line tool from package media-sound/alsa-utils (this should already be installed as per our previous recommendation).&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;speaker-test -t wav -c 2
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><category term="gentoo"></category><category term="handbook"></category><category term="alsa"></category></entry><entry><title>Gentoo安装详解（四）— 安装X桌面环境</title><link href="http://wonux.github.io/gentoo-handbook-xorg.html" rel="alternate"></link><updated>2015-05-14T11:03:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-05-05:gentoo-handbook-xorg.html</id><summary type="html">
&lt;h2 id="x"&gt;安装X桌面环境：&lt;a class="headerlink" href="#x" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="xorg"&gt;安装Xorg：&lt;a class="headerlink" href="#xorg" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;检测显卡信息：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dmesg | grep video
lspci  | grep -i VGA
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;配置INPUT_DEVICE、VIDEO_CARDS变量： 在安装Xorg之前，你需要在/etc/portage/make.conf文件中设置两个重要的变量。&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    (For mouse, keyboard, and Synaptics touchpad support)
    INPUT_DEVICE="evdev  synaptics"   
    （对nVidia显卡）
    VIDEO_CARDS="nvidia"
    （或，对ATI Radeon显卡）
    VIDEO_CARDS="radeon"
    （VMware虚拟机）
    VIDEO_CARDS="vmware"
    （VirtualBox虚拟机）
    VIDEO_CARDS="virtualbox"
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;安装xorg-server“&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge -pv xorg-drivers
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;First of all, make sure udev is in your &lt;span class="caps"&gt;USE&lt;/span&gt; flags:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;echo "x11-base/xorg-server udev" &amp;gt;&amp;gt; /etc/portage/package.use
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Next, install Xorg:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge -av xorg-server
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;注：现在比较新的版本的Xorg（大概是 1.5 以后的吧） 使用 evdev 替换了 keyboard 和 mouse ，确保 udev 标记在安装 xorg-server 时被启用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;更新环境变量：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;env-update
source /etc/profile
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;使用startx：
安装 twm 和 xterm 之后 执行 startx 测试 X 是否正常。
测试正常之后可以删除 twm 和 xterm。&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge -v twm xterm
startx
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_1"&gt;安装桌面环境：&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;这里选择轻量快速的 awesome 和 openbox （严格上不算完整的桌面环境，称为wm窗口管理器）配置介绍。它们自定义性比较强，可以根据自己喜好配置成各种效果。为了兼顾部署速度，我大多数选择默认配置，只做微量调整。&lt;/p&gt;
&lt;h4 id="awesome"&gt;awesome&lt;a class="headerlink" href="#awesome" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;安装awesome： awesome3.5.5以上版本,支持使用dmenu类似[Mod4+P]的命令补全。&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge --ask awesome
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;配置awesome：
配置文件位于&lt;code&gt;~/.config/awesome/rc.lua&lt;/code&gt;
主题文件在&lt;code&gt;/usr/share/awesome/theme/default/theme.lua&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir -p ~/.config/awesome/
cp /etc/xdg/awesome/rc.lua ~/.config/awesome/rc.lua
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;检测： 更改配置文件后可以用下面的命令检测是否正确。&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;awesome -k
✔ Configuration file syntax OK
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;使用startx启动：
编辑&lt;code&gt;~/.xinitrc&lt;/code&gt;文件&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;exec ck-launch-session dbus-launch --sh-syntax --exit-with-session awesome
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;常用配置&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;-- {{{ Variable definitions
-- Themes define colours, icons, font and wallpapers.
beautiful.init("/usr/share/awesome/themes/default/theme.lua")
-- This is used later as the default terminal and editor to run.
terminal = "tilda"
editor = os.getenv("EDITOR") or "nano"
editor_cmd = terminal .. " -e " .. editor
-- Autostart
awful.util.spawn_with_shell("fcitx &amp;amp;")
-- awful.util.spawn_with_shell("feh --bg-scale /usr/share/wallpaper/gentoo-gold.jpg")
-- }}}
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;音量控制：
后台启动&lt;code&gt;volumeicon &amp;amp;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge --ask volumeicon
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;设置壁纸：
feh设置壁纸 &lt;code&gt;feh --bg-tile /path/to/image.jpg&lt;/code&gt; —bg-scale —bg-center —bg-fill —bg-max&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge --ask feh
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;除了在rc.lua中添加自启动应用命令，还可以添加&lt;code&gt;/etc/xdg/awesome/autostart&lt;/code&gt;脚本。 在awesome中，terminal推荐tilda、sakura。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id="openbox"&gt;openbox&lt;a class="headerlink" href="#openbox" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;安装openbox：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge --ask x11-wm/openbox
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;配置openbox：
配置文件位于&lt;code&gt;/etc/xdg/openbox&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir -p ~/.config/openbox/
cp /etc/xdg/openbox/* ~/.config/openbox/
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;使用startx启动：
编辑&lt;code&gt;~/.xinitrc&lt;/code&gt;文件&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;exec ck-launch-session dbus-launch --sh-syntax --exit-with-session openbox-session
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;Autostart脚本：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;vim ~/.config/openbox/autostart
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;右键菜单配置：
1、安装Gentoo特有包&lt;code&gt;x11-misc/openbox-menu&lt;/code&gt;，自动生成menu，不依赖&lt;code&gt;etc/xdg/menus&lt;/code&gt;文件夹下的信息。&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge --ask x11-misc/openbox-menu
openbox-menu
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;2、使用MenuMaker更新menu。&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge menumaker
mmaker -v OpenBox3
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cp .config/openbox/menu.xml /etc/xdg/openbox/menu.xml
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;或使用-f参数覆盖&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;配置主题：
&lt;span class="caps"&gt;GUI&lt;/span&gt;工具obconf&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge obconf
obconf
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;openbox去边框
Openbox 在匹配窗口的 name、class 及 role 时，可以使用通配符 * 和 ?。其中，* 用来匹配任意多个字符，而 ? 仅能匹配单个字符。例如：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;application&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;"*"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
 &lt;span class="nt"&gt;&amp;lt;decor&amp;gt;&lt;/span&gt;no&lt;span class="nt"&gt;&amp;lt;/decor&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/application&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;这样就去掉了所有窗口的边框。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Feh设置壁纸&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Panels：tint2&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置透明效果
参考另一篇文章: &lt;a href=""&gt;openbox设置透明效果&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="dwm"&gt;dwm&lt;a class="headerlink" href="#dwm" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h4&gt;</summary><category term="gentoo"></category><category term="handbook"></category><category term="xorg"></category></entry><entry><title>Gentoo安装详解（三）— 配置系统</title><link href="http://wonux.github.io/gentoo-handbook-configure.html" rel="alternate"></link><updated>2015-05-08T11:54:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-05-04:gentoo-handbook-configure.html</id><summary type="html">
&lt;h2 id="_1"&gt;配置系统&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_2"&gt;系统信息：&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;文件系统信息：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;创建/etc/fstab&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nano -w /etc/fstab
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;网络信息：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Host name, Domainname, etc&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nano -w /etc/conf.d/hostname
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Configuring Network&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nano -w /etc/conf.d/net
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;系统信息：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Gentoo uses /etc/rc.conf to configure the services, startup, and shutdown of your system.&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nano -w /etc/rc.conf
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Root Password&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;passwd
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Gentoo uses /etc/conf.d/hwclock to set clock options.&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nano -w /etc/conf.d/hwclock
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_3"&gt;安装系统工具软件：&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;可选：&lt;span class="caps"&gt;PCMCIA&lt;/span&gt;使用lspci查看硬件信息：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge pcmciautils
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;System Logger：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge syslog-ng
rc-update add syslog-ng default
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;可选：File Indexing：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge mlocate
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;可选：Remote Access：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rc-update add sshd default
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;可选：&lt;span class="caps"&gt;DHCP&lt;/span&gt; Client：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge dhcpcd
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_4"&gt;配置启动项：&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Using &lt;span class="caps"&gt;GRUB2&lt;/span&gt;：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge sys-boot/grub
grub2-install /dev/sda
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;Optionally, install theos-prober utility (provided through the &lt;a href=""&gt;sys-boot/os-prober&lt;/a&gt; package) to have &lt;span class="caps"&gt;GRUB2&lt;/span&gt; probe for other operating systems when running thegrub2-mkconfig command. In most instances, this will enable &lt;span class="caps"&gt;GRUB2&lt;/span&gt; to automatically detect other operating systems (Windows 7, Windows 8.1, etc.).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Generating &lt;span class="caps"&gt;GRUB2&lt;/span&gt; configuration：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;grub2-mkconfig -o /boot/grub/grub.cfg
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;可选：Using &lt;span class="caps"&gt;GRUB&lt;/span&gt; Legacy：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge sys-boot/grub:0
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;编辑配置文件：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nano -w /boot/grub/grub.conf
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Example grub.conf：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# 默认选择哪个列表来引导。0表示第一个， 1表示第二个，以此类推。
default 0
# 引导默认列表前等待多少秒
timeout 30
# 使用漂亮、“臃肿”的spalsh图像来增加一点趣味:)
# 如果您没有安装显卡，请将这行注释掉
splashimage=(hd0,0)/boot/grub/splash.xpm.gz

title Gentoo Linux 3.10.10
# 内核镜像（或者操作系统）所在分区
root (hd0,0)
kernel /boot/kernel-3.10.10-gentoo root=/dev/sda2

title Gentoo Linux 3.10.10 (rescue)
# 内核镜像（或者操作系统）所在分区
root (hd0,0)
kernel /boot/kernel-3.10.10-gentoo root=/dev/sda2 init=/bin/bb

# 接下来的四行只有在您与Windows系统进行双启动的情况下才需要。
# 本例中，windows系统位于/dev/sda6。
title Windows XP
rootnoverify (hd0,5)
makeactive
chainloader +1

#win7下注释掉makeactive
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Setting up &lt;span class="caps"&gt;GRUB&lt;/span&gt; Legacy using grub-install:
Creating /etc/mtab:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;grep -v rootfs /proc/mounts &amp;gt; /etc/mtab
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Install &lt;span class="caps"&gt;GRUB&lt;/span&gt; Legacy:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;grub-install --no-floppy /dev/sda
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_5"&gt;重启系统:&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;exit
cd
umount -l /mnt/gentoo/dev{/shm,/pts,}
umount -l /mnt/gentoo{/boot,/proc,}
reboot
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><category term="gentoo"></category><category term="handbook"></category></entry><entry><title>Gentoo安装详解（二）— 编译内核</title><link href="http://wonux.github.io/gentoo-handbook-kernel.html" rel="alternate"></link><updated>2015-05-08T10:44:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-05-04:gentoo-handbook-kernel.html</id><summary type="html">
&lt;h2 id="_1"&gt;编译内核：&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;安装内核源码：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;选择内核：如gentoo-sources&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge gentoo-sources
ls -l /usr/src/linux
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_2"&gt;手动编译内核：&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cd /usr/src/linux
make menuconfig
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;必须启用的选项：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Most information can be gathered by emerging &lt;a href=""&gt;sys-apps/pciutils&lt;/a&gt; which contains the &lt;code&gt;lspci&lt;/code&gt; command:
显卡：&lt;a href="https://wiki.gentoo.org/wiki/Xorg/Configuration"&gt;Xorg/Configuration&lt;/a&gt;
声卡：&lt;a href="https://wiki.gentoo.org/wiki/ALSA"&gt;&lt;span class="caps"&gt;ALSA&lt;/span&gt;&lt;/a&gt;
网卡：根据具体网卡芯片型号，查看wiki。
无线网卡芯片驱动查询：&lt;a href="http://wireless.kernel.org/en/users/Devices/PCI"&gt;Linux Wireless&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;其他选项根据需要添加，不了解保持默认即可.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;编译内核与模块：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;make &amp;amp;&amp;amp; make modules_install
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;拷贝内核到启动分区：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cp arch/x86_64/boot/bzImage /boot/kernel-3.10.10-gentoo
或
make install  #使用make install
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;This will copy the kernel image into /boot together with the System.map file and the kernel configuration file.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="genkernel"&gt;使用genkernel编译内核：&lt;a class="headerlink" href="#genkernel" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge genkernel
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;可选：复制安装光盘上的内核配置文件：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;zcat /proc/config.gz &amp;gt; /usr/share/genkernel/arch/x86_64/kernel-config
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;编译：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;genkernel --menuconfig all
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;一旦genkernel运行完成，一个包括全部模块和initrd的内核将被建立。在后面配置引导程序时我们将会用到这个内核和initrd。请记下内核和initrd的名字，因为您将在配置引导程序的时候用到他们(Grub Legacy使用)。initrd将会在启动真正的系统前自动识别硬件（如同安装光盘一样）。&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ls /boot/kernel* /boot/initramfs*
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><category term="gentoo"></category><category term="handbook"></category><category term="kernel"></category></entry><entry><title>Gentoo安装详解（一）— 安装基本系统</title><link href="http://wonux.github.io/gentoo-handbook-base.html" rel="alternate"></link><updated>2015-02-11T11:24:00+08:00</updated><author><name>孤逐王</name></author><id>tag:wonux.github.io,2014-05-04:gentoo-handbook-base.html</id><summary type="html">
&lt;h2 id="_1"&gt;前期准备&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_2"&gt;远程登录：&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;开启ssh服务：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;/etc/init.d/sshd start
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;设置密码：
 “` passwd&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;以便使用putty、ssh client远程登录上传stage等（有时在线下载很慢，而局域网上传很快）

### 准备磁盘：

- 分区：
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;fdisk /dev/sda&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; /dev/sda1 : /boot 100M(32-100M)  设启动笔记-a
/dev/sda2 : / 20G
/dev/sda3 : /home 20G
 /dev/sda5 : /swap 1G (内存&amp;lt; 512 MB,分区分配2倍内存大小的空间;&amp;gt; 1024 MB，可以分配较少的空间甚至不需要swap 分区。)-t 82

- 创建文件系统：
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;mkfs.ext4 /dev/sda1
mkfs.ext4 /dev/sda2
mkfs.ext4 /dev/sda3
mkswap /dev/sda5&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;- 挂载分区：
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;mount /dev/sda2 /mnt/gentoo
mkdir /mnt/gentoo/boot
mount /dev/sda1 /mnt/gentoo/boot
mkdir /mnt/gentoo/home
mount /dev/sda3 /mnt/gentoo/home
swapon /dev/sda5&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;## 安装系统

### 安装stage及portage：

- 正确设置日期／时间：
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;date&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; 如果显示的日期／时间不正确，可以使用date MMDDhhmmYYYY命令

- 下载Stage3 Tarbll：
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;cd /mnt/gentoo
links http://www.gentoo.org/main/en/mirrors.xml&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;选择国内速度较快的镜像，进入releases/x86/autobuilds/目录里。你将会看到所有适合你的计算机体系结构的stage文件（它们也可能放在各个独立的子体系名称的子目录里）。选择一个，然后按D来下载。下载完以后，再按Q退出浏览器。
&amp;gt; 或使用SSH Secure Shell登录上传stage3文件

- 解开Stage3 Tarball：
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;tar xvjpf stage3-*.tar.bz2&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;- 下载Portage：
打开links（或者lynx）然后到我们的Gentoo镜像列表。选择一个离你最近的镜像，打开snapshots/目录。然后选择最新的Portage快照（portage-latest.tar.bz2）并按D来下载它。
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;links http://www.gentoo.org/main/en/mirrors.xml&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; 或使用SSH Secure Shell登录上传portage文件

- 解压Portage：
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;tar -xvjf /mnt/gentoo/portage-latest.tar.bz2 -C /mnt/gentoo/usr （install a Portage snapshot）&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;### 编译前准备：

- 配置编译选项：
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;nano -w /mnt/gentoo/etc/portage/make.conf&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; CFLAGS="-march=native -O2 -pipe"  
CXXFLAGS="&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;CFLAGS&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;"  # 两个变量使用相同的设置
MAKEOPTS="-j3"  #MAKEOPTS定义在安装软件的时候同时可以产生并行编译的数目，CPU数目加一是个不错的选择

查看cpu信息：
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;cat proc/cpuinfo&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;- 选择镜像站点：
 ```
mirrorselect -i -o &amp;gt;&amp;gt; /mnt/gentoo/etc/portage/make.conf
mirrorselect -i -r -o &amp;gt;&amp;gt; /mnt/gentoo/etc/portage/make.conf
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Warning:&lt;/strong&gt;&lt;a href=""&gt;app-portage/mirrorselect&lt;/a&gt; has not been updated to handle modifying the target chrootsrepos.conf/gentoo.conf file yet. Also, the &lt;span class="caps"&gt;SYNC&lt;/span&gt; variable in make.conf is deprecated and no longer used by portage. This section needs to be updated, please skip for the time being…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;拷贝&lt;span class="caps"&gt;DNS&lt;/span&gt;信息：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cp -L /etc/resolv.conf /mnt/gentoo/etc/
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h2 id="chroot"&gt;Chroot进入新系统环境：&lt;a class="headerlink" href="#chroot" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="chroot_1"&gt;Chroot：&lt;a class="headerlink" href="#chroot_1" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;挂载 /proc, /dev, /sys文件系统：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mount -t proc none /mnt/gentoo/proc
mount --rbind /dev /mnt/gentoo/dev
mount --rbind /sys /mnt/gentoo/sys
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;进入新的系统环境：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;chroot /mnt/gentoo /bin/bash&lt;/span&gt;
&lt;span class="x"&gt;source /etc/profile&lt;/span&gt;
&lt;span class="x"&gt;export PS1="(chroot) &lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;PS1&lt;/span&gt;&lt;span class="x"&gt;"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3 id="_3"&gt;新环境配置：&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;更新portage树：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge --sync （Updating the Portage tree）
或
emerge-webrsync（fetch the latest portage snapshot）
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;选择Profile：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;eselect profile list
eselect profile set ×
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;设置时区：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ls /usr/share/zoneinfo
echo "Europe/Brussels" &amp;gt; /etc/timezone
emerge --config sys-libs/timezone-data
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;设置locale：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nano -w /etc/locale.gen
locale-gen
eselect locale list
eselect locale set x
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;更新环境变量：&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;env-update &amp;amp;&amp;amp; source /etc/profile
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><category term="gentoo"></category><category term="handbook"></category></entry></feed>